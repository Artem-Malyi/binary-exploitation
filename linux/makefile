FLAGS=-zexecstack -fno-stack-protector -fno-pie -fno-pic -g -O0 -mpreferred-stack-boundary=2 -m32

all: rwret shellcode nfshellcode overflow asmshellcode

rwret:
	gcc rwret.c ${FLAGS} -o rwret

asmlisting:
	gcc rwret.c ${FLAGS} -S

shellcode:
	gcc shellcode.c ${FLAGS} -o shellcode

nfshellcode:
	gcc nfshellcode.c ${FLAGS} -o nfshellcode

asmshellcode:
	as -o asmshellcode.o asmshellcode.S
	ld -o asmshellcode asmshellcode.o

overflow:
	gcc overflow.c ${FLAGS} -o overflow

clean:
	rm -f rwret rwret.s shellcode nfshellcode overflow *.o asmshellcode

